# 网络

带宽：链路的最大传输速率，单位为b/s
延时：标识网络发送请求后到接收到远端服务器的响应，所需要的时间
网络可用性：网络是否正常通讯
并发连接数：tcp并发连接数量
丢包率
重传率


#### 网卡统计

```java
[root@26109a9aaf37 /]# ifconfig eth0
eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 172.17.0.2  netmask 255.255.0.0  broadcast 172.17.255.255
        ether 02:42:ac:11:00:02  txqueuelen 0  (Ethernet)
        RX packets 13  bytes 1182 (1.1 KiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 0 (0.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

RUNNING：网卡可用
mtu 1500
RX packets 13  bytes 1182 (1.1 KiB) ： 可以计算出每个包的大小，定位小包问题
RX errors 0  dropped 0  overruns 0  frame 0：
错误包：数据包内容错误，校验错误
丢失包：数据包已经到了ring buffer中，但是内存不足，导致到的丢包
overruns：超出数据包数量，即网络io速度过快，导致ring buffer中的数据来不及处理，而导致的丢包

-----
carrier:物理电缆出现问题等
collisions：碰撞数据包数量

```

#### socket统计 

```
Active Internet connections (servers and established)
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      1614/sshd

协议  接受队列长度 发送队列长度 本地地址           对端地址                 状态        进程id/进程名


队列不为0的时候，说明网络包发生了堆积

当socket处于established时：
Recv-Q标识套接字缓冲区中还未被 应用程序取走的字节数
Send-Q标识套接字缓冲区中还未被 远端主机确认的字节数

当socket处于listen时：
Recv-Q标识套接字 全连接队列的长度
Send-Q标识套接字 全连接队列的最大长度

全连接：完成tcp三次握手，且移到全连接队列中的套接字

```






